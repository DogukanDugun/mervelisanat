/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(ns,root,$){"use strict";Drupal.behaviors.mapboxmap_add_handlers={attach:function(context,settings){b14site.mapboxmap.addHandlers(context);}};ns.addHandlers=function(context){var maps=drupalSettings['b14maps'];for(var key in maps){if(!maps.hasOwnProperty(key))continue;b14site.mapboxmap.mapboxmapInit(maps[key]);}$('.mapboxgl-map',context).waypoint({handler:function(direction){if(direction==='down'){b14site.mapboxmap.mapboxmapFlyto($(this.element).attr('id'));drupalSettings['b14maps'][$(this.element).attr('id')]['map_states']='in-viewport';}if(direction==='up'){b14site.mapboxmap.mapboxmapFlyto($(this.element).attr('id'));drupalSettings['b14maps'][$(this.element).attr('id')]['map_states']='in-viewport';}},offset:'85%'});};ns.mapboxmapInit=function(elem){let container='map-'+elem.map_id;mapboxgl.accessToken='pk.eyJ1IjoiY3JlYXRpdmUtc3BhY2UiLCJhIjoiY2s1Y2N0b3lzMWdlMjNtbXVseXE4ZXY3eiJ9.JyPr1taAoQS2ozCTo3cRTA';console.log(elem.map_center);let mapCenter=[elem.map_center[1],elem.map_center[0]];let map=new mapboxgl.Map({container,style:'mapbox://styles/creative-space/ck5ceyt1x07dt1clliq5tdn24',center:mapCenter,zoom:2,pitch:0,bearing:0,minZoom:2,attributionControl:false});let nav=new mapboxgl.NavigationControl();map.addControl(nav,'bottom-right');map.dragRotate.disable();map.touchZoomRotate.disableRotation();let el=document.createElement('div');el.className='marker';new mapboxgl.Marker(el).setLngLat(mapCenter).addTo(map);drupalSettings['b14maps']['map-'+elem.map_id]['map']=map;map.on('load',function(){if(drupalSettings['b14maps']['map-'+elem.map_id]['map_states']=='in-viewport')b14site.mapboxmap.mapboxmapFlyto(container);});};ns.mapboxmapFlyto=function(elem,options){if(options===undefined)options={};var map=drupalSettings['b14maps'][elem]['map'],mapcenter=[drupalSettings['b14maps'][elem]['map_center'][1],drupalSettings['b14maps'][elem]['map_center'][0]],pitch=(typeof options.pitch!=='undefined')?options.pitch:0,bearing=(typeof options.bearing!=='undefined')?options.bearing:0,zoom=(typeof options.zoom!=='undefined')?options.zoom:14.4,speed=(typeof options.speed!=='undefined')?options.speed:1.35;if(map&&map.loaded()&&!map._moving&&!map._zooming)map.flyTo({center:mapcenter,pitch,bearing,zoom,screenSpeed:speed});};})(b14site.getNamespace('mapboxmap'),this,jQuery);;
var scopes=this.scopes||{};(function(root){"use strict";var _scopes={},_settings={};root.STATE_ACTIVE=true;root.STATE_INACTIVE=false;root._domEvent=function(obj,type,fn){if(obj.attachEvent){obj['e'+type+fn]=fn;obj[type+fn]=function(){obj['e'+type+fn](window.event);};obj.attachEvent('on'+type,obj[type+fn]);}else obj.addEventListener(type,fn,false);};root._domRemoveEvent=function(obj,type,fn){if(obj.detachEvent){obj.detachEvent('on'+type,obj[type+fn]);obj[type+fn]=null;}else obj.removeEventListener(type,fn,false);};var _events={};root.on=function(event,fct){_events[event]=_events[event]||[];_events[event].push(fct);};root.trigger=function(event){if(event in _events===false)return;for(var i=0;i<_events[event].length;i++)_events[event][i].apply(this,Array.prototype.slice.call(arguments,1));};root._createScope=function(scope_name,data){var element=document.createElement('div');element.classList.add('scope-scope');element.id='scope-'+scope_name;root._check_container.appendChild(element);return {name:scope_name,state:null,data};};root.getScope=function(scope_name){return _scopes[scope_name];};root.getScopes=function(state){var buffer={};for(var i in _scopes)if(state===undefined||_scopes[i].state===state)buffer[i]=_scopes[i];return buffer;};root.isActive=function(scope_name){var element=document.getElementById('scope-'+scope_name);if(element===null)return false;return window.getComputedStyle(element).top==='1px';};root.checkScope=function(scope_name){return this.isActive(scope_name);};root._handleResize=function(){var active={},inactive={},changed={};for(var scope in _scopes)if(this.checkScope(scope)===root.STATE_ACTIVE){active[scope]=_scopes[scope];if(_scopes[scope].state!==root.STATE_ACTIVE)changed[scope]=_scopes[scope];_scopes[scope].state=root.STATE_ACTIVE;}else{inactive[scope]=_scopes[scope];if(_scopes[scope].state!==root.STATE_INACTIVE)changed[scope]=_scopes[scope];_scopes[scope].state=root.STATE_INACTIVE;}if(Object.keys(changed).length>0)this.trigger('change',changed,active,inactive);};root.getSetting=function(name){if(_settings[name])return _settings[name];return false;};root.inits=root.inits||[];function initialize(){var i;var data=window.getComputedStyle(document.body,':after').getPropertyValue('content').replace(/\\"/g,'"');if(data==='none')return;data=JSON.parse(data.substr(0,data.length-1).substr(1));if(root._check_container===undefined)root._check_container=document.body;for(i in data)if(i.substr(0,1)==='_')_settings[i.substr(1)]=data[i];else _scopes[i]=root._createScope(i,data[i]);root._domEvent(window,'resize',function(){root._handleResize();});root._handleResize();for(i in root.inits)if(typeof root.inits[i]==='function')root.inits[i]();}if(document.readyState==='complete')initialize();else root._domEvent(window,'load',initialize);})(scopes);;
var scopes=this.scopes||{};(function(root){"use strict";var enable_code='',current_string='';function keyEnabler(evt){current_string+=String.fromCharCode(evt.keyCode);if(current_string.length>enable_code.length)current_string=current_string.substr(current_string.length-enable_code.length);if(enable_code===current_string){debug.activate();root._domRemoveEvent(window,'keyup',this);}}var debug_modules={};var debug={enable:function(){enable_code=root.getSetting('debug').toUpperCase();root._domEvent(window,'keyup',keyEnabler);},activate:function(){root._domRemoveEvent(window,'keyup',keyEnabler);root._domEvent(window,'keyup',function(evt){var key=String.fromCharCode(evt.keyCode);if(typeof debug_modules[key]==='function')debug_modules[key]();});this.godmode();},godmode:function(){var godmode=document.createElement('div');godmode.classList.add('scopes-debug-activated');document.body.appendChild(godmode);setTimeout(function(){godmode.classList.add('show');setTimeout(function(){godmode.classList.remove('show');setTimeout(function(){godmode.remove();},500);},1000);},16);},addModule:function(key,callback){debug_modules[key.toUpperCase()]=callback;}};root.debug=debug;root.inits=root.inits||[];root.inits.push(function(){if(root.getSetting('debug')!==false)debug.enable();});})(scopes);;
var scopes=this.scopes||{};(function(root){"use strict";var _visible=false,max_count=0;var grid={hide:function(){_visible=false;document.body.classList.remove('scopes-show-grid');},show:function(){_visible=true;if(document.getElementsByClassName('scopes-debug-grid').length===0){var outer=document.createElement('div'),container=document.createElement('div'),single=document.createElement('div');outer.classList.add('scopes-debug-grid');container.classList.add('grid-container');single.classList.add('single-grid');for(var x=0;x<max_count;x++)container.appendChild(single.cloneNode());outer.appendChild(container);document.body.appendChild(outer);}document.body.classList.add('scopes-show-grid');},toggleVisibility:function(){if(_visible===false)this.show();else this.hide();}};root.grid=grid;root.inits=root.inits||[];root.inits.push(function(){var scopes=root.getScopes();for(var i in scopes)max_count=Math.max(max_count,scopes[i].data.grid.count);if(root.debug!==undefined)root.debug.addModule('G',function(){root.grid.toggleVisibility();});});})(scopes);;
if(!Array.prototype.includes)Object.defineProperty(Array.prototype,'includes',{value:function(valueToFind,fromIndex){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this);var len=o.length>>>0;if(len===0)return false;var n=fromIndex|0;var k=Math.max(n>=0?n:len-Math.abs(n),0);function sameValueZero(x,y){return x===y||(typeof x==='number'&&typeof y==='number'&&isNaN(x)&&isNaN(y));}while(k<len){if(sameValueZero(o[k],valueToFind))return true;k++;}return false;}});;
this.site=this.site||{};(function(ns,$,Drupal){'use strict';var ua=navigator.userAgent.toLowerCase();function has_mouse(){if(matchMedia('(hover: hover), screen and (-ms-high-contrast: active), (-ms-high-contrast: none)').matches)return true;else return false;}function has_touch(){if(window.matchMedia('(any-pointer: coarse)').matches)return true;else return false;}if(has_mouse())$('html').addClass('has-mouse');if(!has_touch())$('html').addClass('no-touch');if(has_touch())$('html').addClass('has-touch');var uaie=window.navigator.userAgent;if(/(msie)/.exec(uaie)||!!navigator.userAgent.match(/Trident.*rv\:11\./))$('html').addClass('is-ie');else $('html').addClass('is-not-ie');if(/Edge/.test(navigator.userAgent))$('html').addClass('is-edge');$(window).on('load',function(){$('html').addClass('window-loaded');});$('a').on('click',function(event){if($(this).closest('.quickedit-entity-active').length)event.preventDefault();});$(function(){var $scrollDiv=$('<div>').css({width:100,height:100,overflow:'scroll',position:'absolute',top:-9999}).appendTo('body'),scrollDiv=$scrollDiv[0];$('.primary-scroll-hider').width(scrollDiv.offsetWidth-scrollDiv.clientWidth);if(scrollDiv.offsetWidth-scrollDiv.clientWidth>0)$('body').addClass('has-visible-scroll');$scrollDiv.remove();});var embeddedVideos=$('[data-video-embed-field-lazy]');embeddedVideos.each(function(){var $this=$(this),data=$this.attr('data-video-embed-field-lazy'),dataAutoplay='';dataAutoplay=data.replace("autoplay=0","autoplay=1");$this.attr('data-video-embed-field-lazy',dataAutoplay);$this.find('.video-embed-field-lazy-play').text('Afspil video');});Drupal.behaviors.b14site_add_handlers={attach:function(context,settings){b14site.branchSwitcher.addHandlers(context);b14site.header.addHandlers(context);b14site.popover.addHandlers(context);b14site.loadAnimations.addHandlers(context);b14site.b14ccFallbacks.addHandlers(context);b14site.form.addHandlers(context);b14site.befForm.addHandlers(context);b14site.slider.addHandlers(context);}};})(this.site,jQuery,Drupal);;
(function($,Drupal,drupalSettings){'use strict';Drupal.google_analytics={};$(document).ready(function(){$(document.body).on('mousedown keyup touchstart',function(event){$(event.target).closest('a,area').each(function(){if(typeof this.href!=="string")return;if(Drupal.google_analytics.isInternal(this.href))if($(this).is('.colorbox')&&(drupalSettings.google_analytics.trackColorbox)){}else if(drupalSettings.google_analytics.trackDownload&&Drupal.google_analytics.isDownload(this.href))gtag('event',Drupal.google_analytics.getDownloadExtension(this.href).toUpperCase(),{event_category:'Downloads',event_label:Drupal.google_analytics.getPageUrl(this.href),transport_type:'beacon'});else{if(Drupal.google_analytics.isInternalSpecial(this.href))gtag('config',drupalSettings.google_analytics.account,{page_path:Drupal.google_analytics.getPageUrl(this.href),transport_type:'beacon'});}else if(drupalSettings.google_analytics.trackMailto&&$(this).is("a[href^='mailto:'],area[href^='mailto:']"))gtag('event','Click',{event_category:'Mails',event_label:this.href.substring(7),transport_type:'beacon'});else if(drupalSettings.google_analytics.trackTel&&$(this).is("a[href^='tel:'],area[href^='tel:']"))gtag('event','Click',{event_category:'Telephone calls',event_label:this.href.substring(4),transport_type:'beacon'});else{if(drupalSettings.google_analytics.trackOutbound&&this.href.match(/^\w+:\/\//i))if(drupalSettings.google_analytics.trackDomainMode!==2||(drupalSettings.google_analytics.trackDomainMode===2&&!Drupal.google_analytics.isCrossDomain(this.hostname,drupalSettings.google_analytics.trackCrossDomains)))gtag('event','Click',{event_category:'Outbound links',event_label:this.href,transport_type:'beacon'});}});});if(drupalSettings.google_analytics.trackUrlFragments)window.onhashchange=function(){gtag('config',drupalSettings.google_analytics.account,{page_path:location.pathname+location.search+location.hash});};if(drupalSettings.google_analytics.trackColorbox)$(document).on('cbox_complete',function(){var href=$.colorbox.element().attr('href');if(href)gtag('config',drupalSettings.google_analytics.account,{page_path:Drupal.google_analytics.getPageUrl(href)});});});Drupal.google_analytics.isCrossDomain=function(hostname,crossDomains){return $.inArray(hostname,crossDomains)>-1?true:false;};Drupal.google_analytics.isDownload=function(url){var isDownload=new RegExp('\\.('+drupalSettings.google_analytics.trackDownloadExtensions+')([\?#].*)?$','i');return isDownload.test(url);};Drupal.google_analytics.isInternal=function(url){var isInternal=new RegExp('^(https?):\/\/'+window.location.host,'i');return isInternal.test(url);};Drupal.google_analytics.isInternalSpecial=function(url){var isInternalSpecial=new RegExp('(\/go\/.*)$','i');return isInternalSpecial.test(url);};Drupal.google_analytics.getPageUrl=function(url){var extractInternalUrl=new RegExp('^(https?):\/\/'+window.location.host,'i');return url.replace(extractInternalUrl,'');};Drupal.google_analytics.getDownloadExtension=function(url){var extractDownloadextension=new RegExp('\\.('+drupalSettings.google_analytics.trackDownloadExtensions+')([\?#].*)?$','i');var extension=extractDownloadextension.exec(url);return (extension===null)?'':extension[1];};})(jQuery,Drupal,drupalSettings);;
